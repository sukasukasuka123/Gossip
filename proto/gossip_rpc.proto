syntax = "proto3";

package gossip_rpc;

import "google/protobuf/empty.proto";

option go_package = "github.com/sukasukasuka123/Gossip/proto/gossip_rpc";

message GossipMessage {
    string Hash = 1;
    string FromHash = 2;
    bytes PayLoad = 3;
}

message GossipACK {
    string Hash = 1;
    string FromHash = 2;
}

service Gossip {
    // 解耦模式
    rpc MessageStream(stream GossipMessage) returns (stream GossipMessage);
    rpc AckStream(stream GossipACK) returns (stream GossipACK);
}